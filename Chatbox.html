<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!--Calling Bootstrap address I'm try for using URL if it no problem this would be great-->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <style>
       table, th, td, tr, thead {
           border: 2px solid black
    }
      tbody tr:nth-child(odd) {
           background-color: white;
}
      tbody tr:nth-child(even)  {
           background-color: gray;
      }
</style>
</head>
<body style="background-color: lightblue;">
    <div class="container">
      <div class="row">
        <img src="https://m.coruscatesolution.com/wp-content/themes/Coruscate/img/Services/chatting-application/chatting-application.svg">
      </div>
      <div class="row">
        <img src="">
        <table style="width: 100%;">
          <thead>
            <tr style="background-color: #4E5856;">
                <th style="color: white;">name</th>
                <th style="color: white;">Message</th>
                <th style="color: white;">Time</th>
                <!-- Table Chatbox -->
            </tr>
          </thead>
        <tbody id="dataRow" style=""></tbody>
        </table>
      </div>
      <div class="row">
        <div class="col-2">

        </div>
        <div class="col-8">
            <form id="CommentForm">
              Name:<br> <input type="text" id="idName" placeholder="Enter Name" style="width: 100%;"><br>

              Comment:<br> <textarea rows="10" cols="20" id="idComment" placeholder="Enter Messages" style="width:100%;"></textarea><br><br>
              <center><input type="submit" id="commentBtn"></center>
            </form>
        </div>
        <div class="col-2">
    </div>
</div>


  <!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.2.3/firebase.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/7.5.0/firebase-analytics.js"></script>

<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyA1ySrxBke5PTKWXRwF1yy2oeGUAS8GmV4",
    authDomain: "projecth-28012.firebaseapp.com",
    databaseURL: "https://projecth-28012.firebaseio.com",
    projectId: "projecth-28012",
    storageBucket: "projecth-28012.appspot.com",
    messagingSenderId: "971339622190",
    appId: "1:971339622190:web:7b8e70ce925afbad033cbf",
    measurementId: "G-RNMQRZZ6WK"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();

  let myFirebase = firebase.database();
  let dataRef = myFirebase.ref('/chatroom');

document.getElementById("commentBtn").onclick = function() {

  let lname = document.getElementById('idName').value;
  let lcomment = document.getElementById('idComment').value;
  let ltime = Date.now();

dataRef.push({
    name: lname,
    comment: lcomment,
    time: ltime
  });
};

  dataRef.limitToLast(5).on('child_added', function(childSnapshot) {
let item = childSnapshot.val()
document.getElementById('dataRow').innerHTML += "<tr><td>" + item.name + "</td><td>" + item.comment
})
</script>
</body>
</html>
